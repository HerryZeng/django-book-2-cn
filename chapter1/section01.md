## 框架是什么？

`Django`在新一代的`Web`框架中非常出色，为什么这么说呢？

为了回答该问题，让我们考虑一下不使用框架，设计`Python`网页应用程序的情形。贯穿整本书，我们多次展示不使用框架实现网站基本功能的方法，让读者认识到框架开发的方便。（不使用框架，更多情况是没有合适的框架可用。重重要的是，理解实现的来龙去脉会使你成为一名优秀的`Web`开发者。）

使用`Python`开发`Web`，最简单，原始和直接的办法是使用CGI标准，在1998年这种方式很流行。现在从应用角度解释它是如何工作：
+ 首先做一个`Python`脚本，输出`HTML`代码；
+ 然后保存成`.cgi`扩展名的文件，通过浏览器访问此文件。

如下示例，用`Python CGI`脚本显示数据库中最新出版的10本书：不用关心语法细节，仅仅感觉一下基本的实现方法：
```python
    #!/usr/bin/env python

    import MySQLdb
    
    print "Content-Type: text/html\n"
    print "<html><head><title>Books</title></head>"
    print "<body>"
    print "<h1>Books</h1>"
    print "<ul>"
    connection = MySQLdb.connect(user='me', passwd='letmein', db='my_db')
    cursor = connection.cursor()
    cursor.execute("SELECT name FROM books ORDER BY pub_date DESC LIMIT 10")
    
    for row in cursor.fetchall():
        print "<li>%s</li>" % row[0]
    
    print "</ul>"
    print "</body></html>"
    
    connection.close()
```
首先，用户请求`CGI`,脚本代码打印`Content-Type`行，后面跟着换行。再接下来是一些`HTML`的起始标签，然后连接数据库并执行一些查询操作，获取最新的十本书。在遍历这些书的同时，生成一个书名的`HTML`列表项。最后，输出`HTML`的结束标签并且关闭数据库连接。
像这样的一次性的动态页面，从头写起的方法并非一定不好。其中一点：这些代码简单易懂，就算一个初起步的开发者都能够读明白 16行的`Python`代码，而且这些代码从头到尾做了什么都能一清二楚。不需要学习额外的背景知识，没有额外的代码需要去了解。同样，也易于部署这16行代码，只需要将它保存为一个`latestbooks.cgi`的文件，上传到网络服务器上，通过浏览器访问即可。
尽管实现很简单，还是暴露了一些问题和不便的地方。问你自己几个问题：
+ 应用中有多处需要连接数据库会怎么样呢？每个独立的`CGI`脚本，不应该该重复写数据库连接的代码。比较实现的办法是写一个共享函数，可以被多个代码调用。
+ 一个开发人员确实需要去关注如何输出`Content-Type`以及完成所有操作后去关闭数据库么？ 此类问题只会降低开发人员的工作效率，增加犯错误的机率。那些初始化和释放等相关的工作应该交给一些通用的框架来实现。
+ 如果这样的代码被重用到一个复杂的环境中会发生什么？ 每个页面都分别对独立的数据库和密码吗？
+ 如果一个`Web`设计师，完全没有`Python`开发经验，但是又需要重新设计页面的话，又将发生什么呢？ 一个字符写错了，可能导致整个应用崩溃。理想的情况下，页面显示的逻辑与数据库中读取书本记录分隔开，这样`Web`设计师重新设计不会影响到之前的业务逻辑。

以上正是`Web`框架致力于解决的问题。`Web`框架为应用程序提供了一套程序框架，这样你可以专注于编写清晰、易于维护的代码，而不无需从头做起。简单来说，这就是`Django`所能做的。
